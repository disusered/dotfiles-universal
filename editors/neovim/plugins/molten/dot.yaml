linux[whoami.distro^="Arch"]:
  installs:
    cmd: |
      source ~/.local/share/virtualenvs/neovim/bin/activate
      uv pip install jupyter_client cairosvg plotly kaleido pnglatex pyperclip nbformat pillow requests websocket-client
      mkdir -p ~/.local/share/jupyter/runtime
      chmod 700 ~/.local/share/jupyter/runtime
    depends:
      - /editor/neovim
      - /lib/wl-clipboard
  links:
    molten.lua: ~/.config/nvim/lua/plugins/molten.lua
# Jupyter Kernel Registration Workflow:
# 1. In your project: uv venv
# 2. Add dependencies: uv add matplotlib jupyter ipykernel
# 3. Activate venv: source .venv/bin/activate
# 4. Register kernel: python -m ipykernel install --user --name=<projectname>
# 5. Launch nvim (with venv activated or use venv-selector plugin)
# 6. Use <leader>ji to select the registered kernel from picker
