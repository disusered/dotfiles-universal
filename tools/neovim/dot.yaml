linux[whoami.distro^="Arch"]:
  installs:
    cmd: yes | sudo pacman -S neovim
    depends:
      - /lib/arch
      - /tools/ssh
      - /tools/git
      - /tools/curl
      - /tools/fzf
      - /tools/lazygit
      - /tools/ripgrep
      - /tools/fd
      - /tools/wget
      - /tools/unzip
      - /tools/gzip
      - /tools/treesitter
      - /tools/imagemagick
      - /tools/ghostscript
      - /tools/postgresql
      - /tools/zsh
      - /tools/ssh
      - /languages/python/latest
      - /languages/lua/5.1
      - /languages/lua/hererocks
      - /languages/node/latest
      - /languages/latex/tectonic
      - /tools/fonts
      # TODO: Are the other latex stuff needed?
      - /tools/grpcurl
      - /tools/websocat
      - /tools/xmllint
  links:
    neovim.zsh: ~/.config/zsh/0020_neovim.zsh
    init.lua: ~/.config/nvim/init.lua
    lua: ~/.config/nvim/lua
linux[whoami.distro^="Fedora"]:
  installs:
    cmd: brew install neovim
    depends:
      - /packages/homebrew
      - /tools/git
      - /tools/lazygit
      - /tools/curl
      - /tools/fzf
      - /tools/ripgrep
      - /tools/fd
      - /tools/wget
      - /tools/unzip
      - /tools/gzip
      - /tools/treesitter
      - /tools/imagemagick
      - /tools/ghostscript
      - /tools/postgresql
      - /tools/grpcurl
      - /tools/websocat
      - /tools/xmllint
      - /tools/zsh
      - /tools/ssh
      - /languages/lua/5.1
      - /languages/lua/hererocks
      - /languages/latex/tectonic
      - /languages/python/latest
      - /languages/node/latest
      # TODO: Enable when platform-specific fonts are used for Wezterm
      # - /tools/fonts
  links:
    neovim.zsh: ~/.config/zsh/0020_neovim.zsh
    init.lua: ~/.config/nvim/init.lua
    lua: ~/.config/nvim/lua
windows:
  installs:
    cmd: scoop install neovim
    depends:
      - /packages/scoop
      - /tools/git
      - /tools/fonts
      - /tools/lazygit
      - /languages/zig
      - /tools/curl
      - /tools/fzf
      - /tools/ripgrep
      - /tools/fd
      - /tools/wget
      - /tools/unzip
      - /tools/gzip
      - /tools/treesitter
      - /tools/imagemagick
      - /tools/ghostscript
      - /tools/grpcurl
      - /tools/xmllint
      - /languages/lua/5.1
      - /languages/lua/luarocks
      - /languages/lua/hererocks
      - /languages/latex/tectonic
      - /languages/python/latest
      - /languages/node/latest
  links:
    neovim.ps1: ~/.config/powershell/profile.d/neovim.ps1
    init.lua: >-
      {{ env.LOCALAPPDATA }}/nvim/init.lua
    lua: >-
      {{ env.LOCALAPPDATA }}/nvim/lua
